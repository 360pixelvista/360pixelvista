<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>360&deg; Image</title>
	<meta name="description" content="360&deg; Image - A-Frame">
	<script src="lib/aframe-master.js"></script>
</head>

<body>
	<a-scene>
		<a-sky id="img360" src="" rotation="0 -130 0"></a-sky>

		<a-text id="text360" font="kelsonsans" value="Oradea - 1 iunie 24" width="6" position="-2.5 0.25 -1.5" rotation="0 15 0">
		</a-text>
	</a-scene>
	<script>
		const urlParams = new URLSearchParams(window.location.search);
		
		console.log(urlParams.get('img'));
		console.log(urlParams.get('text'));

		document.querySelector("#img360").setAttribute("src", "https://360pixelvista.github.io/jpg/" + urlParams.get('img') + ".jpg");
		document.querySelector("#text360").setAttribute("value", urlParams.get('text'));
		
		function getQueryParams(qs) {
			qs = qs.split('+').join(' ');

			let params = {},
				tokens,
				re = /[?&]?([^=]+)=([^&]*)/g;

			while (tokens = re.exec(qs)) {
				params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
			}

			return params;
		}
	</script>
</body>

</html>
